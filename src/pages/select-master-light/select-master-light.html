<!--
  Generated template for the SelectMasterLight page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color="secondary">
        <ion-title>Select Master Light</ion-title>
    </ion-navbar>

</ion-header>


<ion-content>

    <ion-grid>
        <ion-row>
            <ion-col col-lg-2 col-md-1></ion-col>
            <ion-col col-12 col-sm-12 col-md-10 col-lg-8>
                
                <h3 style="margin-top: 20px;" text-center padding>Please select a Master light to control this Slave light.</h3>
                <p text-center padding>
                    You may either select the location on the map or select a light from the list.
                </p>

                <ion-grid padding>
                    <ion-row>
                        <ion-col>
                            <sebm-google-map [latitude]="lightService.light.location.lat" [longitude]="lightService.light.location.lng" [zoom]="17">


                                <sebm-google-map-marker *ngFor="let marker of lightService.userMasterLights;" [latitude]="lightService.light.location.lat" [longitude]="lightService.light.location.lng"></sebm-google-map-marker>
                                <sebm-google-map-marker *ngFor="let marker of lightService.userMasterLights;" [latitude]="marker.location.lat" [longitude]="marker.location.lng" (markerClick)="selectLight(marker.lightId)" [iconUrl]="'https://maps.google.com/mapfiles/ms/icons/blue-dot.png'"></sebm-google-map-marker>
                            </sebm-google-map>
                        </ion-col>
                    </ion-row>
                </ion-grid>


                <ion-list>
                    <ion-item-divider color="light">
                        <ion-avatar item-left style="margin: 8px 0px 8px 0;">
                            <img style="height: 25px; width: 25px;  margin-top: 8px;" src="https://maps.google.com/mapfiles/ms/icons/blue-dot.png">
                        </ion-avatar>Master Lights</ion-item-divider>

                    <button ion-item center *ngIf="lightService.userMasterLights.length == 0">
                        No Master Lights Found.
                    </button>
                    <ion-item-sliding *ngFor="let marker of lightService.userMasterLights;">
                        <ion-item (click)="selectLight(marker.lightId)">

                            <h2>Light {{marker.lightId}}</h2>
                        </ion-item>
                        <ion-item-options side="left">
                            <button ion-button color="primary">
                                <ion-icon name="text"></ion-icon>
                                Text
                            </button>
                            <button ion-button color="secondary">
                                <ion-icon name="call"></ion-icon>
                                Call
                            </button>
                        </ion-item-options>
                        <ion-item-options side="right">
                            <button ion-button color="primary">
                                <ion-icon name="mail"></ion-icon>
                                Email
                            </button>
                        </ion-item-options>
                    </ion-item-sliding>


                </ion-list>
            </ion-col>
        </ion-row>
    </ion-grid>

</ion-content>
